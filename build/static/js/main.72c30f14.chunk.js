(this["webpackJsonpjetstyle-test"]=this["webpackJsonpjetstyle-test"]||[]).push([[0],[,,,,,,,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){},function(t,e,o){"use strict";o.r(e);var n=o(1),c=o.n(n),i=o(5),a=o.n(i),r=(o(10),o(3)),s=o(2),u=(o(11),o(12),o(0)),l=function(t){var e=Object(n.useState)(""),o=Object(s.a)(e,2),c=o[0],i=o[1],a=Object(n.useState)(""),r=Object(s.a)(a,2),l=r[0],b=r[1],d=Object(n.useState)(""),j=Object(s.a)(d,2),m=j[0],p=j[1],f=t.book.id>=-1?"form-popup form-popup_visible":"form-popup";return Object(n.useEffect)((function(){i(t.book.author),b(t.book.title),p(t.book.cover)}),[t.book]),Object(u.jsx)("div",{className:f,children:Object(u.jsxs)("form",{className:"form-popup-content",onSubmit:function(e){e.preventDefault(),t.submitForm({id:t.book.id?t.book.id:-1,author:c,title:l,cover:m})},children:[Object(u.jsx)("input",{type:"text",className:"form-popup__input",name:"author",value:c||"",placeholder:"\u0410\u0432\u0442\u043e\u0440",onChange:function(t){i(t.target.value)}}),Object(u.jsx)("input",{type:"text",className:"form-popup__input",name:"title",value:l||"",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435*",onChange:function(t){b(t.target.value)},required:!0}),Object(u.jsx)("input",{type:"file",className:"form-popup__input",id:"imageFile",name:"imageFile",onChange:function(t){(function(t){return new Promise((function(e,o){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=function(t){return o(t)},n.readAsDataURL(t)}))})(t.target.files[0]).then((function(t){p(t)}))},placeholder:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"form-popup__submit",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{className:"form-popup__close",onClick:t.closeForm,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})})},b=(o(14),function(t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"main-menu__btn",onClick:function(){t.onPressAddBook({id:-1,author:"",title:"",cover:""})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"}),Object(u.jsx)("button",{className:"main-menu__btn",onClick:t.onFillTestData,children:"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})}),d=(o(15),function(t){var e="".concat(t.book.author," - ").concat(t.book.title);return Object(u.jsxs)("a",{href:"#",className:"book-item",children:[Object(u.jsx)("img",{className:"book-item__cover",alt:e,src:t.book.cover}),Object(u.jsxs)("div",{className:"book-item-descr",children:[Object(u.jsx)("h2",{className:"book-item__title",children:t.book.title}),Object(u.jsx)("div",{className:"book-item-text",children:Object(u.jsx)("p",{className:"book-item__author",children:t.book.author})})]}),Object(u.jsxs)("div",{className:"book-item-buttons",children:[Object(u.jsx)("button",{className:"book-item__btn",onClick:function(){return t.onEdit(t.book)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)("button",{className:"book-item__btn",onClick:function(){return t.onDelete(t.book)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}),j=function(t){return t.books.length>0?Object(u.jsxs)("div",{children:[" ",t.books.map((function(e){return Object(u.jsx)(d,{book:e,onEdit:t.onEditItem,onDelete:t.onDeleteItem},1e6*Math.random())}))," "]}):Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"})})};var m=function(){var t=JSON.parse(localStorage.getItem("booklist"))||[],e=Object(n.useState)(t.map((function(t,e){return Object(r.a)(Object(r.a)({},t),{},{id:e})}))),o=Object(s.a)(e,2),c=o[0],i=o[1],a=Object(n.useState)({}),d=Object(s.a)(a,2),m=d[0],p=d[1];function f(t){i(t),localStorage.setItem("booklist",JSON.stringify(t.map((function(t){return{author:t.author,title:t.title,cover:t.cover}}))))}function h(t){p(t)}return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{book:m,closeForm:function(t){t.preventDefault(),p({})},submitForm:function(t){-1===t.id?c.push({id:t.id,author:t.author,title:t.title,cover:t.cover}):c[t.id]={id:t.id,author:t.author,title:t.title,cover:t.cover},f(c),p({})}}),Object(u.jsx)(b,{onPressAddBook:h,onFillTestData:function(){f([{author:"\u041c\u0430\u043a\u0441\u0438\u043c \u0414\u043e\u0440\u043e\u0444\u0435\u0435\u0432",title:"\u041f\u0443\u0442\u044c \u0434\u0436\u0435\u0434\u0430\u044f",cover:"https://simg.marwin.kz/media/catalog/product/cache/550cf8d20d514ab5650dc2adb71f19c7/6/0/6005527947.jpg"},{author:"\u0411\u0430\u0445\u044b\u0442\u0436\u0430\u043d \u0411\u0443\u0445\u0430\u0440\u0431\u0430\u0439",title:"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430 \u043a\u0430\u0437\u0430\u0445\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u043c\u0435\u043d\u0430",cover:"https://simg2.marwin.kz/media/catalog/product/cache/550cf8d20d514ab5650dc2adb71f19c7/5/5/555_1_5.jpg"},{author:"\u0421\u0435\u0440\u0433\u0435\u0439 \u0415\u0441\u0438\u043d",title:"\u041e\u043f\u0438\u0441\u044c \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u043e\u0434\u0438\u043d\u043e\u043a\u043e\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",cover:"https://simg.marwin.kz/media/catalog/product/cache/550cf8d20d514ab5650dc2adb71f19c7/c/o/cover1__w600_22_256.jpg"}].map((function(t,e){return Object(r.a)(Object(r.a)({},t),{},{id:e})})))}}),Object(u.jsx)(j,{books:c,onDeleteItem:function(t){f(c.filter((function(e){return e.title!==t.title})))},onEditItem:h})]})},p=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,17)).then((function(e){var o=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,a=e.getTTFB;o(t),n(t),c(t),i(t),a(t)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),p()}],[[16,1,2]]]);
//# sourceMappingURL=main.72c30f14.chunk.js.map